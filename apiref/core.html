
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>media_nommer.core &mdash; media-nommer v1.0dev documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="media-nommer v1.0dev documentation" href="../index.html" />
    <link rel="up" title="media-nommer module reference" href="index.html" />
    <link rel="next" title="media_nommer.ec2nommerd" href="ec2nommerd.html" />
    <link rel="prev" title="media_nommer.conf" href="conf.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ec2nommerd.html" title="media_nommer.ec2nommerd"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="conf.html" title="media_nommer.conf"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">media-nommer v1.0dev documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">media-nommer module reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-media_nommer.core">
<span id="media-nommer-core"></span><h1>media_nommer.core<a class="headerlink" href="#module-media_nommer.core" title="Permalink to this headline">¶</a></h1>
<p>The core module is home to code that is important to both the
<a class="reference internal" href="ec2nommerd.html#module-media_nommer.ec2nommerd" title="media_nommer.ec2nommerd"><tt class="xref py py-mod docutils literal"><span class="pre">media_nommer.ec2nommerd</span></tt></a> and <a class="reference internal" href="feederd.html#module-media_nommer.feederd" title="media_nommer.feederd"><tt class="xref py py-mod docutils literal"><span class="pre">media_nommer.feederd</span></tt></a> top-level
modules. This is best thought of as a lower level API that all of the pieces
of the encoding system use to communicate and interact with one another.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There should be nothing that is specific to just <a class="reference internal" href="../ec2nommerd.html"><em>ec2nommerd</em></a>
or just <a class="reference internal" href="../feederd.html"><em>feederd</em></a> here if at all possible.</p>
</div>
<div class="section" id="module-media_nommer.core.storage_backends">
<span id="storage-backends"></span><h2>storage_backends<a class="headerlink" href="#module-media_nommer.core.storage_backends" title="Permalink to this headline">¶</a></h2>
<p>Storage backends are used to handle download and uploading content to a number
of different protocols in an abstracted manner.</p>
<p>media-nommer uses URI strings to represent media locations, whether it be
the file to download and encode, or where the output should be uploaded to.
A reference to the correct backend for a URI can be found using the
<a class="reference internal" href="#media_nommer.core.storage_backends.get_backend_for_uri" title="media_nommer.core.storage_backends.get_backend_for_uri"><tt class="xref py py-func docutils literal"><span class="pre">get_backend_for_uri()</span></tt></a> function.</p>
<dl class="function">
<dt id="media_nommer.core.storage_backends.get_backend_for_protocol">
<tt class="descclassname">media_nommer.core.storage_backends.</tt><tt class="descname">get_backend_for_protocol</tt><big>(</big><em>protocol</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/storage_backends.html#get_backend_for_protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.storage_backends.get_backend_for_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a protocol string, return the storage backend that has been tasked
with serving said protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>protocol</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; A protocol string like &#8216;http&#8217;, &#8216;ftp&#8217;, or &#8216;s3&#8217;.</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A storage backend for the specified protocol.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="media_nommer.core.storage_backends.get_backend_for_uri">
<tt class="descclassname">media_nommer.core.storage_backends.</tt><tt class="descname">get_backend_for_uri</tt><big>(</big><em>uri</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/storage_backends.html#get_backend_for_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.storage_backends.get_backend_for_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a URI string , return a reference to the storage backend class 
capable of interacting with the protocol seen in the URI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uri</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URI to find the appropriate storage backend for.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">StorageBackend</span></tt></td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A reference to the backend class to use with this URI.</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="id1">
<h3>s3<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-media_nommer.core.storage_backends.s3"></span><p>This module contains an S3Backend class for working with URIs that have
an s3:// protocol specified.</p>
<dl class="class">
<dt id="media_nommer.core.storage_backends.s3.S3Backend">
<em class="property">class </em><tt class="descclassname">media_nommer.core.storage_backends.s3.</tt><tt class="descname">S3Backend</tt><a class="reference internal" href="../_modules/media_nommer/core/storage_backends/s3.html#S3Backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.storage_backends.s3.S3Backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstracts access to S3 via the common set of file storage backend methods.</p>
<dl class="classmethod">
<dt id="media_nommer.core.storage_backends.s3.S3Backend.download_file">
<em class="property">classmethod </em><tt class="descname">download_file</tt><big>(</big><em>uri</em>, <em>fobj</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/storage_backends/s3.html#S3Backend.download_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.storage_backends.s3.S3Backend.download_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a URI, download the file to the given file-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uri</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URI of a file to download.</li>
<li><strong>fobj</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#file" title="(in Python v2.7)"><em>file</em></a>) &#8211; A file-like object to download the file to.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">file</p>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A file handle to the downloaded file.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.storage_backends.s3.S3Backend.upload_file">
<em class="property">classmethod </em><tt class="descname">upload_file</tt><big>(</big><em>uri</em>, <em>fobj</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/storage_backends/s3.html#S3Backend.upload_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.storage_backends.s3.S3Backend.upload_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a file-like object, upload it to the specified URI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uri</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URI to upload the file to.</li>
<li><strong>fobj</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#file" title="(in Python v2.7)"><em>file</em></a>) &#8211; The file-like object to populate the S3 key from.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="http://boto.cloudhackers.com/ref/s3.html#boto.s3.key.Key" title="(in boto v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">boto.s3.key.Key</span></tt></a></p>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The newly set boto key.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-media_nommer.core.job_state_backend">
<span id="job-state-backend"></span><h2>job_state_backend<a class="headerlink" href="#module-media_nommer.core.job_state_backend" title="Permalink to this headline">¶</a></h2>
<p>The job state backend provides a simple API for <a class="reference internal" href="../feederd.html"><em>feederd</em></a> and 
<a class="reference internal" href="../ec2nommerd.html"><em>ec2nommerd</em></a> to store and retrieve job state information. This can be 
everything from the list of currently un-finished jobs, to the 
down-to-the-minute status of individual jobs.</p>
<p>There are two pieces to the job state backend:</p>
<ul class="simple">
<li>The <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a> class is used to interact with and manipulate
individual jobs and their state.</li>
<li>The <a class="reference internal" href="#media_nommer.core.job_state_backend.JobStateBackend" title="media_nommer.core.job_state_backend.JobStateBackend"><tt class="xref py py-class docutils literal"><span class="pre">JobStateBackend</span></tt></a> class is used to operate as the topmost
manager. It can track all of the currently running jobs, get new jobs
from the SQS queue, and process state change notifications from SQS.</li>
</ul>
<dl class="class">
<dt id="media_nommer.core.job_state_backend.EncodingJob">
<em class="property">class </em><tt class="descclassname">media_nommer.core.job_state_backend.</tt><tt class="descname">EncodingJob</tt><big>(</big><em>source_path</em>, <em>dest_path</em>, <em>nommer</em>, <em>job_options</em>, <em>unique_id=None</em>, <em>job_state='PENDING'</em>, <em>job_state_details=None</em>, <em>notify_url=None</em>, <em>creation_dtime=None</em>, <em>last_modified_dtime=None</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#EncodingJob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.EncodingJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a single encoding job. This class handles the serialization
and de-serialization involved when saving and loading encoding jobs
to and from <a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a>.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You generally won&#8217;t be instantiating these objects yourself.
To retrieve an existing job, you may use
<a class="reference internal" href="#media_nommer.core.job_state_backend.JobStateBackend.get_job_object_from_id" title="media_nommer.core.job_state_backend.JobStateBackend.get_job_object_from_id"><tt class="xref py py-meth docutils literal"><span class="pre">JobStateBackend.get_job_object_from_id()</span></tt></a>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_path</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URI to the source media to encode.</li>
<li><strong>dest_path</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URI to upload the encoded media to.</li>
<li><strong>job_options</strong> (<a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; The job options to pass to the Nommer in
key/value format. See each Nommer&#8217;s documentation for details on
accepted options.</li>
<li><strong>unique_id</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The unique hash ID for this job. If
<a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob.save" title="media_nommer.core.job_state_backend.EncodingJob.save"><tt class="xref py py-meth docutils literal"><span class="pre">save()</span></tt></a> is called and this value is <tt class="xref docutils literal"><span class="pre">None</span></tt>, an ID will
be generated for this job.</li>
<li><strong>job_state</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The state that the job is in.</li>
<li><strong>job_state_details</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Any details to go along with whatever
job state this job is in. For example, if job_state is <cite>ERROR</cite>,
this keyword might contain an error message.</li>
<li><strong>notify_url</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The URL to hit when this job has finished.</li>
<li><strong>creation_dtime</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><em>datetime.datetime</em></a>) &#8211; The time when this job
was created.</li>
<li><strong>last_modified_dtime</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><em>datetime.datetime</em></a>) &#8211; The time when this job
was last modified.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="media_nommer.core.job_state_backend.EncodingJob.is_finished">
<tt class="descname">is_finished</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#EncodingJob.is_finished"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.EncodingJob.is_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this job is in a finished state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref docutils literal"><span class="pre">True</span></tt> if the job is in a finished state, or 
<tt class="xref docutils literal"><span class="pre">False</span></tt> if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="media_nommer.core.job_state_backend.EncodingJob.save">
<tt class="descname">save</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#EncodingJob.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.EncodingJob.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes and saves the job to <a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a>. In the case of a newly
instantiated job, also handles queueing the job up into the new job
queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">The unique ID of the job.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="media_nommer.core.job_state_backend.EncodingJob.set_job_state">
<tt class="descname">set_job_state</tt><big>(</big><em>job_state</em>, <em>details=None</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#EncodingJob.set_job_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.EncodingJob.set_job_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the job&#8217;s state and saves it to the backend. Sends a notification
to <a class="reference internal" href="../feederd.html"><em>feederd</em></a> to re-load the job&#8217;s data from <a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a> via
<a class="reference external" href="http://aws.amazon.com/sqs/">SQS</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>job_state</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The state to set the job to.</li>
<li><strong>job_state_details</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Any details to go along with whatever
job state this job is in. For example, if job_state is <cite>ERROR</cite>,
this keyword might contain an error message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="media_nommer.core.job_state_backend.JobStateBackend">
<em class="property">class </em><tt class="descclassname">media_nommer.core.job_state_backend.</tt><tt class="descname">JobStateBackend</tt><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstracts storing and retrieving job state information to and from
<a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a>. Jobs are represented through the <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a> class,
which are instantiated and returned as needed.</p>
<dl class="attribute">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.FINISHED_STATES">
<tt class="descname">FINISHED_STATES</tt><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.FINISHED_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p>Any jobs in the following states are considered &#8220;finished&#8221; in that we
won&#8217;t do anything else with them. This is a list of strings.</p>
</dd></dl>

<dl class="attribute">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.JOB_STATES">
<tt class="descname">JOB_STATES</tt><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.JOB_STATES" title="Permalink to this definition">¶</a></dt>
<dd><p>All possible job states as a list of strings.</p>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.get_job_object_from_id">
<em class="property">classmethod </em><tt class="descname">get_job_object_from_id</tt><big>(</big><em>unique_id</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend.get_job_object_from_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.get_job_object_from_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a job&#8217;s unique ID, return an EncodingJob instance.</p>
<p>TODO: Make this raise a more specific exception.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unique_id</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; An <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a>&#8216;s unique ID.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.get_unfinished_jobs">
<em class="property">classmethod </em><tt class="descname">get_unfinished_jobs</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend.get_unfinished_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.get_unfinished_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Queries SimpleDB for a list of pending jobs that have not yet been
finished.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A list of unfinished <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.pop_new_jobs_from_queue">
<em class="property">classmethod </em><tt class="descname">pop_new_jobs_from_queue</tt><big>(</big><em>num_to_pop</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend.pop_new_jobs_from_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.pop_new_jobs_from_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops any new jobs from the job queue.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Once jobs are popped from a queue and <tt class="docutils literal"><span class="pre">delete()</span></tt> is ran on the
message, they are gone for good. Be careful to handle errors in
the methods higher on the call stack that use this method.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num_to_pop</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Pop up to this many jobs from the queue at once.
This can be up to 10, as per <a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a> limitations.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A list of <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.pop_state_changes_from_queue">
<em class="property">classmethod </em><tt class="descname">pop_state_changes_from_queue</tt><big>(</big><em>num_to_pop</em><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend.pop_state_changes_from_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.pop_state_changes_from_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops any recent state changes from the queue.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Once jobs are popped from a queue and <tt class="docutils literal"><span class="pre">delete()</span></tt> is ran on the
message, they are gone for good. Be careful to handle errors in
the methods higher on the call stack that use this method.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>num_to_pop</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Pop up to this many jobs from the queue at once.
This can be up to 10, as per <a class="reference external" href="http://aws.amazon.com/simpledb/">SimpleDB</a> limitations.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A list of <a class="reference internal" href="#media_nommer.core.job_state_backend.EncodingJob" title="media_nommer.core.job_state_backend.EncodingJob"><tt class="xref py py-class docutils literal"><span class="pre">EncodingJob</span></tt></a> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="media_nommer.core.job_state_backend.JobStateBackend.wipe_all_job_data">
<em class="property">classmethod </em><tt class="descname">wipe_all_job_data</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/media_nommer/core/job_state_backend.html#JobStateBackend.wipe_all_job_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#media_nommer.core.job_state_backend.JobStateBackend.wipe_all_job_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the SimpleDB domain and empties the SQS queue. These are both
used to store and communicate job state data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref docutils literal"><span class="pre">True</span></tt> if successful. <tt class="xref docutils literal"><span class="pre">False</span></tt> if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">media_nommer.core</a><ul>
<li><a class="reference internal" href="#module-media_nommer.core.storage_backends">storage_backends</a><ul>
<li><a class="reference internal" href="#id1">s3</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-media_nommer.core.job_state_backend">job_state_backend</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="conf.html"
                        title="previous chapter">media_nommer.conf</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ec2nommerd.html"
                        title="next chapter">media_nommer.ec2nommerd</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/apiref/core.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ec2nommerd.html" title="media_nommer.ec2nommerd"
             >next</a> |</li>
        <li class="right" >
          <a href="conf.html" title="media_nommer.conf"
             >previous</a> |</li>
        <li><a href="../index.html">media-nommer v1.0dev documentation</a> &raquo;</li>
          <li><a href="index.html" >media-nommer module reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, DUO Interactive, LLC.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>